# Global configuration shared across topics.
# This file is optional and loaded before each topic config.

api:
  openrouter_app_title: "TranscriptMiner"
  openrouter_http_referer: "https://github.com/sebastianlang84/TranscriptMiner"

youtube:
  api_timeout_s: 30
  lookback_days: 30
  max_videos_per_channel: 5
  proxy:
    mode: ${YOUTUBE_PROXY_MODE}
    http_url: ${YOUTUBE_PROXY_HTTP_URL}
    https_url: ${YOUTUBE_PROXY_HTTPS_URL}
    webshare_username: ${WEBSHARE_USERNAME}
    webshare_password: ${WEBSHARE_PASSWORD}
    filter_ip_locations: ${YOUTUBE_PROXY_FILTER_IP_LOCATIONS}

analysis:
  llm:
    timeout_s: 600

report:
  llm:
    timeout_s: 600

output:
  global: /home/wasti/ai_stack_data/transcript-miner/output

# Open WebUI Knowledge sync routing (used by mcp-transcript-miner).
# Policy:
# - Base topic stays unchanged in topic configs (e.g. investing).
# - Sync routes into derived OWUI collections: <topic>_new and <topic>_archive.
# - Cold storage holds summaries outside the archive window and must not be reprocessed.
owui_collections:
  enabled: true
  new_suffix: "_new"
  archive_suffix: "_archive"
  newest_per_channel: 2
  # Optional: limit what counts as "new" by published age; 0 = no limit.
  # This prevents very old videos from ending up in <topic>_new just because
  # a channel hasn't published recently.
  new_max_age_days: 2
  archive_max_age_days: 15
  excluded_topics:
    - company_dossiers
  cold:
    enabled: true
    # Relative to output.global root (i.e. <output>/data/...):
    dir: "data/summaries/cold/by_video_id"
