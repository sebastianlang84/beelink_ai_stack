# MCP Transcript Miner Config (Non-Secrets)
TRANSCRIPT_MINER_DEFAULT_LANGUAGES=de,en
TRANSCRIPT_MINER_LOG_LEVEL=info
TM_LLM_BACKEND=gemini_cli
# Optional override; if empty, model comes from TranscriptMiner config (e.g. google/gemini-3-flash-preview).
TM_GEMINI_CLI_MODEL=
TM_GEMINI_CLI_TIMEOUT_SECONDS=900
AI_STACK_SECRETS_DIR_HOST=..
AI_STACK_DATA_DIR_HOST=/home/wasti/ai_stack_data
TRANSCRIPT_MINER_OUTPUT_ROOT_HOST=/home/wasti/ai_stack_data/transcript-miner/output
OPEN_WEBUI_BASE_URL=http://owui:8080
OPEN_WEBUI_KNOWLEDGE_ID_BY_TOPIC_JSON_PATH=/config/knowledge_ids.json
# Optional fallback: used when no topic mapping exists
OPEN_WEBUI_KNOWLEDGE_ID=
# Auto-sync summaries to Knowledge after a run finishes (best-effort)
OPEN_WEBUI_AUTO_SYNC_AFTER_RUN=false
# Auto-create Knowledge Collection if missing (Name = Topic)
OPEN_WEBUI_CREATE_KNOWLEDGE_IF_MISSING=false
# Optional: allowlist for auto-create (comma-separated topics). Empty = allow all.
OPEN_WEBUI_CREATE_KNOWLEDGE_ALLOWLIST=investing,investing_new,investing_archive,company_dossiers,investing_test,ai_knowledge
# Optional: pre-check OWUI knowledge for duplicates (hash/filename) before upload
OPEN_WEBUI_KNOWLEDGE_DEDUP_PRECHECK=true
# Cache TTL for pre-check (seconds)
OPEN_WEBUI_KNOWLEDGE_DEDUP_CACHE_TTL_SECONDS=900

# Lifecycle routing config (global; applies to all topics unless excluded)
# Source: transcript-miner/config/config_global.yaml -> owui_collections.*
OPEN_WEBUI_COLLECTIONS_CONFIG_PATH=/transcript_miner_config/config_global.yaml
# Per-summary sync into Open WebUI Knowledge (immediate, after each summary write)
OPEN_WEBUI_SYNC_ON_SUMMARY=false
# Local MCP base URL inside the tm container
OPEN_WEBUI_SYNC_BASE_URL=http://127.0.0.1:8000
# Retry index/upload when Open WebUI file processing fails transiently
OPEN_WEBUI_INDEX_MAX_ATTEMPTS=3
OPEN_WEBUI_INDEX_RETRY_BACKOFF_SECONDS=5
YOUTUBE_COOKIES_FILE=/host_secrets/youtube_cookies.txt
